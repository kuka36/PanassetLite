import{u as e,r,a as o,V as n,b as s,v as t,t as l,j as a,c as i}from"./vendor-Cts3Jxd3.js";const d="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",m=[],c={allowDangerousHtml:!0},p=/^(https?|ircs?|mailto|xmpp)$/i,u=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function f(p){const f=function(n){const s=n.rehypePlugins||m,t=n.remarkPlugins||m,l=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...c}:c,a=e().use(r).use(t).use(o,l).use(s);return a}(p),w=function(e){const r=e.children||"",o=new n;"string"==typeof r&&(o.value=r);return o}(p);return function(e,r){const o=r.allowedElements,n=r.allowElement,m=r.components,c=r.disallowedElements,p=r.skipHtml,f=r.unwrapDisallowed,w=r.urlTransform||g;for(const t of u)Object.hasOwn(r,t.from)&&s("Unexpected `"+t.from+"` prop, "+(t.to?"use `"+t.to+"` instead":"remove it")+" (see <"+d+"#"+t.id+"> for more info)");return t(e,h),l(e,{Fragment:a.Fragment,components:m,ignoreInvalidStyle:!0,jsx:a.jsx,jsxs:a.jsxs,passKeys:!0,passNode:!0});function h(e,r,s){if("raw"===e.type&&s&&"number"==typeof r)return p?s.children.splice(r,1):s.children[r]={type:"text",value:e.value},r;if("element"===e.type){let r;for(r in i)if(Object.hasOwn(i,r)&&Object.hasOwn(e.properties,r)){const o=e.properties[r],n=i[r];(null===n||n.includes(e.tagName))&&(e.properties[r]=w(String(o||""),r,e))}}if("element"===e.type){let t=o?!o.includes(e.tagName):!!c&&c.includes(e.tagName);if(!t&&n&&"number"==typeof r&&(t=!n(e,r,s)),t&&s&&"number"==typeof r)return f&&e.children?s.children.splice(r,1,...e.children):s.children.splice(r,1),r}}}(f.runSync(f.parse(w),w),p)}function g(e){const r=e.indexOf(":"),o=e.indexOf("?"),n=e.indexOf("#"),s=e.indexOf("/");return-1===r||-1!==s&&r>s||-1!==o&&r>o||-1!==n&&r>n||p.test(e.slice(0,r))?e:""}export{f as M};
